global:
  scrape_interval: 15s

alerting:
  alertmanagers:
    - static_configs:
        - targets:
            - alertmanager.monitoring.svc:9093

prometheus:
  prometheusSpec:
    serviceMonitorSelector: {}
    podMonitorSelector: {}
    ruleSelector: {}

    additionalScrapeConfigs:
      - job_name: 'flask-app'
        scrape_interval: 15s
        static_configs:
          - targets: ['flask-release-flask-chart.flask-app.svc.cluster.local:5000']

    evaluation_interval: 15s

    resources:
      requests:
        memory: 512Mi
        cpu: 200m
      limits:
        memory: 1Gi
        cpu: 500m

ruleFiles:
  - /etc/prometheus/alert-rules/alert-rules.yaml

